{"version":3,"sources":["assets/img/preloader.png","components/CartItem/Genres/Genres.jsx","components/CartItem/Img/Img.jsx","components/CartItem/CartItem.jsx","components/Header/Header.jsx","components/Pagination/Pagination.jsx","components/Spinner/Spinner.jsx","redux/reducers/reducer.js","pages/Home/Home.jsx","redux/actionAsync/films.js","utils/createPages.js","components/Comments/Comments.jsx","components/Comments/CommentsForm.jsx","pages/Cart/Cart.jsx","App.js","redux/index.js","index.js"],"names":["index","genre","className","Img","img","preloader","React","useState","isLoaded","setIsLoaded","bg","Image","src","onload","alt","CartItem","movies","to","id","width","height","viewBox","fill","xmlns","clipPath","d","rating","toFixed","genres","map","i","a","Genres","large_cover_image","title_english","year","Header","title","nav","Pagination","children","onClick","Spinner","SET_ITEMS","SET_IS_FETCHING","SET_CURRENT_PAGE","SET_FETCH_ERROR","SET_CURRENT_MOVIE","SET_IS_LOADED_MOVIE","initialState","items","isFetching","currentPage","perPage","totalCount","isFetchingError","currentMovie","isLoadedMovie","reducer","state","action","type","payload","data","movie_count","setItems","setIsFetching","bool","setCurrentMovie","setIsLoadedMovie","Home","dispatch","useDispatch","useSelector","films","useEffect","axios","get","allRepo","console","log","getFilms","pages","pagesCount","push","createPages","Math","ceil","item","Comments","value","date","author","fn","CommentsForm","filmId","textareaRef","useRef","getComments","localStorageComments","localStorage","getItem","commentsDB","JSON","parse","currentMovieComments","find","comment","comments","handleSubmit","e","preventDefault","trim","Date","toLocaleDateString","newDB","newComment","floor","random","some","setItem","stringify","setComments","setComment","deleteComment","filter","onSubmit","name","ref","onChange","target","placeholder","Cart","props","match","params","response","movie","getCurrentMovie","cx","cy","r","description_intro","App","exact","path","component","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e9f12b0d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/preloader.817176e3.png\";","import React from 'react'\r\n\r\nfunction index({genre, className}) {\r\n    return (\r\n        <span className={className}>\r\n        {genre} <br/>\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default index","import React from 'react'\r\n\r\nfunction Img({img, preloader}) {\r\n    const [isLoaded, setIsLoaded] = React.useState(false);\r\n\r\n    let bg = new Image();\r\n    bg.src = img;\r\n    bg.onload = () => {\r\n      setIsLoaded(true);\r\n    };\r\n  \r\n    return isLoaded ? <img src={img} alt=\"\"/>: <img src={preloader} alt=\"\"/>;\r\n}\r\n\r\nexport default Img\r\n","import React from 'react'\r\nimport './CartItem.scss'\r\nimport preloader from '../../assets/img/preloader.png'\r\n\r\nimport Genres from './Genres/Genres'\r\nimport Img from './Img/Img'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction CartItem({ movies }) {\r\n\r\n  return (\r\n    <div className=\"cart__items\">\r\n      <Link to={`/cart/${movies.id}`}>\r\n        <div className=\"cart__inner\">\r\n\r\n          <div className=\"cart__img\">\r\n            <div className=\"cart__info\">\r\n              <div className=\"cart__info-img\">\r\n                <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <g clipPath=\"url(#clip0)\">\r\n                    <path d=\"M31.9166 12.2751C31.7071 11.6271 31.1324 11.1669 30.4524 11.1056L21.2164 10.267L17.5642 1.71865C17.2949 1.09217 16.6816 0.686646 16.0002 0.686646C15.3188 0.686646 14.7055 1.09217 14.4362 1.72012L10.784 10.267L1.54642 11.1056C0.867694 11.1684 0.294437 11.6271 0.0837383 12.2751C-0.12696 12.923 0.0676246 13.6338 0.581066 14.0818L7.56245 20.2045L5.5038 29.2728C5.35316 29.9396 5.61196 30.6288 6.16519 31.0287C6.46256 31.2436 6.81047 31.353 7.16131 31.353C7.46381 31.353 7.76387 31.2714 8.03316 31.1103L16.0002 26.3487L23.9642 31.1103C24.547 31.4609 25.2817 31.4289 25.8337 31.0287C26.3871 30.6276 26.6457 29.9381 26.4951 29.2728L24.4364 20.2045L31.4178 14.083C31.9312 13.6338 32.1273 12.9243 31.9166 12.2751Z\" fill=\"#299DED\" />\r\n                  </g>\r\n                  <defs>\r\n                    <clipPath id=\"clip0\">\r\n                      <rect width=\"32\" height=\"32\" fill=\"white\" />\r\n                    </clipPath>\r\n                  </defs>\r\n                </svg>\r\n                <span className=\"cart__rating\">\r\n                  {movies.rating === 0 ? \"No ratings\" : movies.rating.toFixed(1)}\r\n                </span>\r\n              </div>\r\n              <div className=\"cart__genres\">\r\n                {movies.genres && movies.genres.map((i, index, a) =>\r\n                  index < 4 ?\r\n                    <Genres\r\n                      className=\"cart__genre\"\r\n                      key={index}\r\n                      genre={i} /> : null)}\r\n              </div>\r\n              <div className=\"cart__button\">More</div>\r\n            </div>\r\n            <Img img={movies.large_cover_image} preloader={preloader} />\r\n          </div>\r\n        </div>\r\n        <div className=\"cart__subtitle\">\r\n          <div className=\"cart__title\">{movies.title_english}</div>\r\n          <div className=\"cart__year\">{movies.year}</div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport './Header.scss'\r\n\r\nfunction Header({ title, nav }) {\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"container container__header\">\r\n        <h1 className=\"header__title\">{title}</h1>\r\n        <nav className=\"nav\">\r\n          {nav}\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport './Pagination.scss'\r\n\r\nfunction Pagination({ children, onClick, className }) {\r\n    return (\r\n        <button onClick={onClick} className={className}>{children}</button>\r\n    )\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport './Spinner.scss'\r\n\r\nfunction Spinner() {\r\n    return (\r\n        <div className=\"spin-wrapper\">\r\n            <div className=\"spinner\">\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner\r\n","const SET_ITEMS = 'SET_ITEMS'\r\nconst SET_IS_FETCHING = 'SET_IS_FETCHING'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_FETCH_ERROR = 'SET_FETCH_ERROR'\r\nconst SET_CURRENT_MOVIE = 'SET_CURRENT_MOVIE'\r\nconst SET_IS_LOADED_MOVIE = 'SET_IS_LOADED_MOVIE'\r\n\r\nconst initialState = {\r\n    items: [],\r\n    isFetching: true,\r\n    currentPage: 1, //текущая страница\r\n    perPage: 20, // сколько номеров отображать\r\n    totalCount: 0, // кол-во репозитопиев\r\n    isFetchingError: false,\r\n    currentMovie: null,\r\n    isLoadedMovie: false\r\n}\r\n\r\nfunction reducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_ITEMS: {\r\n            return {\r\n                ...state,\r\n                items: action.payload.data,\r\n                isFetching: true,\r\n                totalCount: action.payload.data.movie_count,\r\n                isLoadedMovie: true\r\n            }\r\n        }\r\n\r\n        case SET_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload\r\n            }\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.payload\r\n            }\r\n        }\r\n\r\n        case SET_FETCH_ERROR: {\r\n            return {\r\n                ...state,\r\n                isFetchingError: action.payload\r\n            }\r\n        }\r\n        case SET_CURRENT_MOVIE: {\r\n            return {\r\n                ...state,\r\n                currentMovie: action.payload\r\n            }\r\n        }\r\n        case SET_IS_LOADED_MOVIE: {\r\n            return {\r\n                ...state,\r\n                isLoadedMovie: action.payload\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nexport default reducer\r\n\r\nexport const setItems = (items) => ({ type: SET_ITEMS, payload: items })\r\nexport const setIsFetching = (bool) => ({ type: SET_IS_FETCHING, payload: bool })\r\nexport const setCurrentPage = (items) => ({ type: SET_CURRENT_PAGE, payload: items })\r\nexport const setFetchingError = (items) => ({ type: SET_FETCH_ERROR, payload: items })\r\nexport const setCurrentMovie = (items) => ({ type: SET_CURRENT_MOVIE, payload: items })\r\nexport const setIsLoadedMovie = (items) => ({ type: SET_IS_LOADED_MOVIE, payload: items })\r\n\r\n\r\n","import React from 'react'\r\nimport './Home.scss';\r\n\r\nimport CartItem from '../../components/CartItem/CartItem'\r\nimport Header from '../../components/Header/Header'\r\nimport Pagination from '../../components/Pagination/Pagination';\r\nimport Spinner from '../../components/Spinner/Spinner'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getFilms } from '../../redux/actionAsync/films'\r\nimport { setCurrentPage } from '../../redux/reducers/reducer'\r\n\r\nimport { createPages } from '../../utils/createPages';\r\n\r\n\r\nfunction Home() {\r\n  const dispatch = useDispatch()\r\n\r\n  const { movies } = useSelector((state) => state.films.items)\r\n  const { isFetching, currentPage, perPage, totalCount } = useSelector((state) => state.films)\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getFilms(currentPage, perPage))\r\n  }, [currentPage])\r\n\r\n\r\n\r\n  const pages = []\r\n  const pagesCount = Math.ceil(totalCount / perPage)\r\n  createPages(pages, pagesCount, currentPage)\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <Header title=\"Movies\" nav={pages.map((i, index) =>\r\n        <Pagination\r\n          key={index}\r\n          onClick={() => dispatch(setCurrentPage(i))}\r\n          className={i === currentPage ? 'nav__link active' : 'nav__link'}>\r\n          {i}\r\n        </Pagination>)} />\r\n      {isFetching ?\r\n        <div className=\"main\">\r\n          <div className=\"container\">\r\n            <div className=\"cart\">\r\n\r\n              {movies && movies.map((item, index) =>\r\n                <CartItem\r\n                  key={index}\r\n                  movies={item} />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        :\r\n        <Spinner />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import axios from 'axios'\r\nimport { setItems, setIsFetching, setIsLoadedMovie, setCurrentMovie } from '../reducers/reducer'\r\n\r\nexport const getFilms = (currentPage = 1, perPage) => {\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch(setCurrentMovie(null))\r\n            dispatch(setIsFetching(false))\r\n            dispatch(setIsLoadedMovie(false))\r\n            const allRepo = await axios.get(`https://yts.mx/api/v2/list_movies.json?&page=${currentPage}&limit=${perPage}`)\r\n            dispatch(setItems(allRepo.data))\r\n\r\n        } catch (e) {\r\n            console.log(e)\r\n            dispatch(setIsFetching(true))\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport const getCurrentMovie = (id) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await axios.get(`https://yts.mx/api/v2/movie_details.json?movie_id=${id}`)\r\n            dispatch(setCurrentMovie(response.data.data.movie))\r\n        } catch (e) {\r\n            console.log(e)\r\n            dispatch(setIsFetching(true))\r\n        }\r\n\r\n\r\n    }\r\n}\r\n","export function createPages(pages, pagesCount, currentPage) {\r\n    if (pagesCount > 3) {\r\n        if (currentPage > 2) {\r\n            for (let i = currentPage - 1; i <= currentPage + 1; i++) {\r\n                pages.push(i)\r\n                if (i === pagesCount) break\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 1; i <= 3; i++) {\r\n                pages.push(i)\r\n                if (i === pagesCount) break\r\n            }\r\n        }\r\n    } else {\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i)\r\n        }\r\n    }\r\n}","import React from 'react'\r\nimport './Comments.scss'\r\n\r\nfunction Comments({ value, date, author, id, fn }) {\r\n  return (\r\n    <div className='comment'>\r\n      <div className='comment__body'>\r\n        <div className='comment__info'>\r\n          <div className='comment__author'>{author}</div>\r\n          <div className='comment__date'>{date}</div>\r\n        </div>\r\n        <div className='comment__value'>{value}</div>\r\n        <div className='delete__button' onClick={() => fn(id)}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Comments\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\n\r\nimport Comments from './Comments'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nfunction CommentsForm() {\r\n\r\n  const { currentMovie } = useSelector((state) => state.films)\r\n  const filmId = currentMovie.id\r\n  const textareaRef = React.useRef(null);\r\n  function getComments(filmId) {\r\n    \r\n    let localStorageComments = localStorage.getItem(\"comments\") || \"[]\";\r\n    let commentsDB = JSON.parse(localStorageComments);\r\n\r\n   \r\n    let currentMovieComments = commentsDB.find(\r\n      (comment) => comment.filmId === filmId\r\n    ) || { filmId: filmId, comments: [] };\r\n    return { commentsDB, currentMovieComments };\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (comment.trim()) {\r\n      let { commentsDB, currentMovieComments } = getComments(filmId);\r\n      let date = new Date();\r\n      date.toLocaleDateString();\r\n      let newComment = {\r\n        id: Math.floor(Math.random() * 10000),\r\n        date: date.toLocaleDateString(),\r\n        author: \"You\",\r\n        value: comment,\r\n      };\r\n\r\n      currentMovieComments.comments = [\r\n        newComment,\r\n        ...currentMovieComments.comments,\r\n      ];\r\n\r\n      let newDB;\r\n      if (commentsDB.some((comments) => comments.filmId === filmId)) {\r\n        newDB = [\r\n          ...commentsDB.map((comments) =>\r\n            comments.filmId === filmId ? currentMovieComments : comments\r\n          ),\r\n        ];\r\n      } else {\r\n        newDB = [...commentsDB, currentMovieComments];\r\n      }\r\n      localStorage.setItem(\"comments\", JSON.stringify(newDB));\r\n\r\n      setComments(currentMovieComments);\r\n      setComment(\"\");\r\n    }\r\n  }\r\n\r\n  function deleteComment(id) {\r\n    let { commentsDB, currentMovieComments } = getComments(filmId);\r\n    currentMovieComments.comments = [\r\n      ...currentMovieComments.comments.filter((comment) => comment.id !== id),\r\n    ];\r\n    let newDB = [\r\n      ...commentsDB.map((comments) =>\r\n        comments.filmId === filmId ? currentMovieComments : comments\r\n      ),\r\n    ];\r\n    localStorage.setItem(\"comments\", JSON.stringify(newDB));\r\n\r\n    setComments(currentMovieComments);\r\n  }\r\n\r\n  let [comment, setComment] = useState(\"\");\r\n  let [comments, setComments] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let { currentMovieComments } = getComments(filmId);\r\n    setComments(currentMovieComments || null);\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"comment__body\">\r\n        {comments\r\n          ? comments.comments.map((comment, index) => (\r\n            <Comments\r\n              date={comment.date}\r\n              author={comment.author}\r\n              value={comment.value}\r\n              id={comment.id}\r\n              fn={deleteComment}\r\n              key={index}\r\n            />\r\n          ))\r\n          : \"No comments\"}\r\n      </div>\r\n      <form onSubmit={handleSubmit} className=\"form\" >\r\n        <div className=\"form__wrapper\">\r\n\r\n          <textarea name='text' ref={textareaRef} value={comment} onChange={(e) => setComment(e.target.value)} placeholder=\"Leave a comment\" className=\"form__textarea\"></textarea>\r\n          <button onSubmit={handleSubmit} className=\"back form__submit\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M6.68981 13.7414L2.28356 8.69754L6.68981 3.6537C7.04588 3.24565 7.00434 2.62601 6.5963 2.26962C6.18825 1.91355 5.56894 1.95541 5.21222 2.36313L0.242297 8.0524C-0.0807656 8.42187 -0.0807656 8.97349 0.242297 9.34296L5.21227 15.0323C5.40647 15.2539 5.6782 15.3678 5.95153 15.3678C6.18042 15.3678 6.41025 15.288 6.5963 15.1255C7.00439 14.7691 7.0462 14.1494 6.68981 13.7414Z\" fill=\"white\" />\r\n            <path d=\"M16.8717 7.71655H0.980906C0.439125 7.71655 0 8.15563 0 8.69746C0 9.23924 0.439125 9.67837 0.980906 9.67837H16.8717C19.7206 9.67837 22.0382 11.9959 22.0382 14.8445C22.0382 17.6931 19.7206 20.0106 16.8717 20.0106H2.28881C1.74703 20.0106 1.30791 20.4498 1.30791 20.9916C1.30791 21.5333 1.74703 21.9725 2.28881 21.9725H16.8717C20.8019 21.9725 24 18.7747 24 14.8445C24 10.9143 20.8022 7.71655 16.8717 7.71655Z\" fill=\"white\" />\r\n          </svg>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default CommentsForm\r\n","import React, { useEffect, Fragment } from 'react'\r\nimport './Cart.scss'\r\nimport { NavLink, Link } from 'react-router-dom'\r\n\r\nimport Spinner from '../../components/Spinner/Spinner'\r\nimport CommentsForm from '../../components/Comments/CommentsForm'\r\nimport Header from '../../components/Header/Header'\r\n\r\nimport { getCurrentMovie } from '../../redux/actionAsync/films'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nfunction Cart(props) {\r\n    const dispatch = useDispatch()\r\n    const { currentMovie } = useSelector((state) => state.films)\r\n    useEffect(() => {\r\n        const id = props.match.params.id;\r\n        dispatch(getCurrentMovie(id));\r\n    }, []);\r\n\r\n    return (\r\n        <Fragment>\r\n            {currentMovie ?\r\n                <div>\r\n                    <Header\r\n                        title={<Link className=\"link\" to='/'>{currentMovie.title_english}</Link>}\r\n                        nav={<NavLink to='/'><button className=\"back\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path d=\"M6.68981 13.7414L2.28356 8.69754L6.68981 3.6537C7.04588 3.24565 7.00434 2.62601 6.5963 2.26962C6.18825 1.91355 5.56894 1.95541 5.21222 2.36313L0.242297 8.0524C-0.0807656 8.42187 -0.0807656 8.97349 0.242297 9.34296L5.21227 15.0323C5.40647 15.2539 5.6782 15.3678 5.95153 15.3678C6.18042 15.3678 6.41025 15.288 6.5963 15.1255C7.00439 14.7691 7.0462 14.1494 6.68981 13.7414Z\" fill=\"white\" />\r\n                            <path d=\"M16.8717 7.71655H0.980906C0.439125 7.71655 0 8.15563 0 8.69746C0 9.23924 0.439125 9.67837 0.980906 9.67837H16.8717C19.7206 9.67837 22.0382 11.9959 22.0382 14.8445C22.0382 17.6931 19.7206 20.0106 16.8717 20.0106H2.28881C1.74703 20.0106 1.30791 20.4498 1.30791 20.9916C1.30791 21.5333 1.74703 21.9725 2.28881 21.9725H16.8717C20.8019 21.9725 24 18.7747 24 14.8445C24 10.9143 20.8022 7.71655 16.8717 7.71655Z\" fill=\"white\" />\r\n                        </svg>\r\n                        </button></NavLink>} />\r\n                    <div className=\"container\">\r\n                        <div className=\"more\" >\r\n                            <div className=\"film\">\r\n                                <div className=\"film__img\">\r\n                                    <img src={currentMovie.large_cover_image} alt=\"film\" />\r\n                                    <div className=\"film__img-rating\">\r\n                                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <g clipPath=\"url(#clip0)\">\r\n                                                <path d=\"M19.9479 7.67185C19.8169 7.26687 19.4577 6.97923 19.0328 6.94093L13.2602 6.41678L10.9776 1.07408C10.8093 0.682532 10.426 0.429077 10.0001 0.429077C9.57422 0.429077 9.19091 0.682532 9.0226 1.075L6.73998 6.41678L0.966514 6.94093C0.542309 6.98015 0.184023 7.26687 0.0523365 7.67185C-0.0793503 8.07683 0.0422654 8.52102 0.363166 8.80103L4.72653 12.6277L3.43987 18.2954C3.34573 18.7122 3.50747 19.1429 3.85325 19.3929C4.0391 19.5272 4.25655 19.5955 4.47582 19.5955C4.66488 19.5955 4.85242 19.5446 5.02073 19.4438L10.0001 16.4679L14.9776 19.4438C15.3419 19.663 15.801 19.643 16.146 19.3929C16.492 19.1422 16.6536 18.7113 16.5594 18.2954L15.2728 12.6277L19.6361 8.80179C19.957 8.52102 20.0796 8.07759 19.9479 7.67185Z\" fill=\"#299DED\" />\r\n                                            </g>\r\n                                            <defs>\r\n                                                <clipPath id=\"clip0\">\r\n                                                    <rect width=\"20\" height=\"20\" fill=\"white\" />\r\n                                                </clipPath>\r\n                                            </defs>\r\n                                        </svg>\r\n                                        {currentMovie.rating}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"film__info\">\r\n                                    <p className=\"film__info-title\">{currentMovie.title_english}</p>\r\n                                    <p className=\"film__info-year\">{currentMovie.year}</p>\r\n                                    <>\r\n                                        {currentMovie.genres.map((i, index) => <><svg width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <circle cx=\"6.5\" cy=\"6.5\" r=\"6.5\" fill=\"#606365\" />\r\n                                        </svg>\r\n                                            <span key={index} className=\"film__info-genres\">{i}</span> </>)}\r\n                                    </>\r\n                                    <p className=\"film__info-synonpsis\">Synonpsis</p>\r\n                                    <div className=\"film__info-description\">{currentMovie.description_intro}</div>\r\n                                    <p className=\"film__info-synonpsis\">Comments</p>\r\n                                    <CommentsForm filmId={currentMovie.id} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                :\r\n                <Spinner />\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import { Route, BrowserRouter, Switch, Redirect } from 'react-router-dom'\nimport './App.scss'\n\nimport Home from './pages/Home/Home'\nimport Cart from './pages/Cart/Cart'\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/cart/:id\" component={Cart} />\n        <Redirect to=\"/\" />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport reducer from \"./reducers/reducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    films: reducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(thunk),\r\n    ))\r\n\r\n\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport {Provider} from 'react-redux'\n\nimport {store }from './redux'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}